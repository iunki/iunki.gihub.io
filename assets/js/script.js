var prevX;$(document).ready(function(){animate()});var x,r,isMouseDown=!1,slow=15,i=0,frame=[-540,-360,-185,0],k=0,$slide=$(".slide"),$horse=$(".horse");function animate(){requestAnimationFrame(animate),$slide.css({backgroundPositionX:"+=0.7px"}),i%slow==0&&(k==frame.length&&(k=0),$horse.css("background-position",frame[k]+"px 0"),k++),i++}function refreshSlow(){slow=15}$slide.mouseup(function(s){isMouseDown=!1,$(this).css({cursor:"grab",cursor:"-moz-grab",cursor:"-webkit-grab"}),refreshSlow()}),$slide.mousedown(function(s){$(this).css({cursor:"grabbing",cursor:"-moz-grabbing",cursor:"-webkit-grabbing"}),isMouseDown=!0,prevX=s.pageX,refreshSlow()}),$slide.mousemove(function(s){isMouseDown&&(x=s.pageX,0<(r=x-prevX)?slow=6:($horse.css("background-position",frame[0]+"px 0"),k=0),$slide.css({backgroundPositionX:"+="+r+"px"}),prevX=x)}),$(function(){$(".js-burger").click(function(){$(this).hasClass("close")?($(".js-nav").animate({height:"1.5em",opacity:0},500,function(){$(".js-nav").hide()}),$(this).removeClass("close")):($(".js-nav").show().animate({height:"6em",opacity:1},500),$(this).addClass("close"))})});